 CREATE OR REPLACE PROCEDURE _USERS_ADD (CUENTA_ TBL_USERS.CUENTA%TYPE,COD_OP_ TBL_USERS.COD_OP%TYPE,X_USER_OLD_COUSUMOD_ TBL_USERS.X_USER_OLD_COUSUMOD%TYPE,FEC_VEN_CTA_ TBL_USERS.FEC_VEN_CTA%TYPE,USERNAME_ TBL_USERS.USERNAME%TYPE,IDUSERSDGU_ TBL_USERS.IDUSERSDGU%TYPE,CLAVE_ TBL_USERS.CLAVE%TYPE,IDUSERSROP_ IN OUT TBL_USERS.IDUSERSROP%TYPE,COD_ENTE_ TBL_USERS.COD_ENTE%TYPE,FEC_VEN_PSW_ TBL_USERS.FEC_VEN_PSW%TYPE,AMBITO_ TBL_USERS.AMBITO%TYPE,COPERFIL_ TBL_USERS.COPERFIL%TYPE,COD_AREA_ TBL_USERS.COD_AREA%TYPE,CoUsuCre_ TBL_USERS.CoUsuCre%TYPE) IS BEGIN  SELECT SEQ__USERS.NEXTVAL INTO IDUSERSROP_ FROM DUAL; INSERT INTO TBL_USERS (TBL_USERS.CUENTA,TBL_USERS.COD_OP,TBL_USERS.X_USER_OLD_COUSUMOD,TBL_USERS.FEC_VEN_CTA,TBL_USERS.USERNAME,TBL_USERS.IDUSERSDGU,TBL_USERS.CLAVE,TBL_USERS.IDUSERSROP,TBL_USERS.COD_ENTE,TBL_USERS.FEC_VEN_PSW,TBL_USERS.AMBITO,TBL_USERS.COPERFIL,TBL_USERS.COD_AREA,TBL_USERS.CoUsuCre) VALUES (CUENTA_,COD_OP_,X_USER_OLD_COUSUMOD_,FEC_VEN_CTA_,USERNAME_,IDUSERSDGU_,CLAVE_,IDUSERSROP_,COD_ENTE_,FEC_VEN_PSW_,AMBITO_,COPERFIL_,COD_AREA_,CoUsuCre_);  RETURN; EXCEPTION WHEN OTHERS THEN  raise_application_error (-20000, SQLERRM, TRUE); END _USERS_ADD; CREATE OR REPLACE PROCEDURE _USERS_EDIT (CUENTA_ TBL_USERS.CUENTA%TYPE,COD_OP_ TBL_USERS.COD_OP%TYPE,X_USER_OLD_COUSUMOD_ TBL_USERS.X_USER_OLD_COUSUMOD%TYPE,FEC_VEN_CTA_ TBL_USERS.FEC_VEN_CTA%TYPE,USERNAME_ TBL_USERS.USERNAME%TYPE,IDUSERSDGU_ TBL_USERS.IDUSERSDGU%TYPE,CLAVE_ TBL_USERS.CLAVE%TYPE,IDUSERSROP_ IN OUT TBL_USERS.IDUSERSROP%TYPE,COD_ENTE_ TBL_USERS.COD_ENTE%TYPE,FEC_VEN_PSW_ TBL_USERS.FEC_VEN_PSW%TYPE,AMBITO_ TBL_USERS.AMBITO%TYPE,COPERFIL_ TBL_USERS.COPERFIL%TYPE,COD_AREA_ TBL_USERS.COD_AREA%TYPE,CoUsuMod_ TBL_USERS.CoUsuMod%TYPE) IS BEGIN UPDATE TBL_USERS SET TBL_USERS.CUENTA=CUENTA_,TBL_USERS.COD_OP=COD_OP_,TBL_USERS.X_USER_OLD_COUSUMOD=X_USER_OLD_COUSUMOD_,TBL_USERS.FEC_VEN_CTA=FEC_VEN_CTA_,TBL_USERS.USERNAME=USERNAME_,TBL_USERS.IDUSERSDGU=IDUSERSDGU_,TBL_USERS.CLAVE=CLAVE_,TBL_USERS.COD_ENTE=COD_ENTE_,TBL_USERS.FEC_VEN_PSW=FEC_VEN_PSW_,TBL_USERS.AMBITO=AMBITO_,TBL_USERS.COPERFIL=COPERFIL_,TBL_USERS.COD_AREA=COD_AREA_,TBL_USERS.CoUsuMod=CoUsuMod_,TBL_USERS.FeMod=SYSDATE WHERE TBL_USERS.IDUSERSROP= IDUSERSROP_  ;  RETURN; EXCEPTION WHEN OTHERS THEN  raise_application_error (-20000, SQLERRM, TRUE); END _USERS_EDIT; CREATE OR REPLACE PROCEDURE _USERS_DEL (IDUSERSROP_ IN OUT TBL_USERS.IDUSERSROP%TYPE,CoUsuEli_ TBL_USERS.CoUsuEli%TYPE) IS BEGIN UPDATE TBL_USERS SET TBL_USERS.FlSitReg='I', TBL_USERS.CoUsuEli=CoUsuEli_,TBL_USERS.FeEli = SYSDATE WHERE TBL_USERS.IDUSERSROP= IDUSERSROP_  ;  RETURN; EXCEPTION WHEN OTHERS THEN  raise_application_error (-20000, SQLERRM, TRUE); END _USERS_DEL; CREATE OR REPLACE PROCEDURE _USERS_EDIT_EST (IDUSERSROP_ IN OUT TBL_USERS.IDUSERSROP%TYPE,CoEstReg_ TBL_USERS.CoEstReg%TYPE, CoUsuMod_ TBL_USERS.CoUsuMod%type) IS BEGIN UPDATE TBL_USERS SET TBL_USERS.CoEstReg=CoEstReg_,  TBL_USERS.CoUsuMod=CoUsuMod_ , TBL_USERS.FeMod=SYSDATE WHERE TBL_USERS.IDUSERSROP= IDUSERSROP_  ;  RETURN; EXCEPTION WHEN OTHERS THEN  raise_application_error (-20000, SQLERRM, TRUE); END _USERS_EDIT_EST; CREATE OR REPLACE PACKAGE PKG__USERS AS TYPE REFCURSOR IS REF CURSOR; PROCEDURE LST (RC OUT REFCURSOR); /*-------------------------------------------------------------------------------------*/PROCEDURE ID(IDUSERSROP_ IN OUT TBL_USERS.IDUSERSROP%TYPE,RC OUT REFCURSOR); END PKG__USERS; CREATE OR REPLACE PACKAGE BODY PKG__USERS AS  PROCEDURE LST(RC OUT REFCURSOR) IS BEGIN OPEN RC FOR  SELECT TBL_USERS.IDUSERSROP,TBL_USERS.CUENTA,TBL_USERS.COD_OP,TBL_USERS.X_USER_OLD_COUSUMOD,TBL_USERS.FEC_VEN_CTA,TBL_USERS.USERNAME,TBL_USERS.IDUSERSDGU,TBL_USERS.CLAVE,TBL_USERS.COD_ENTE,TBL_USERS.FEC_VEN_PSW,TBL_USERS.AMBITO,TBL_USERS.COPERFIL,TBL_USERS.COD_AREA,TBL_USERS.CoEstReg, TBL_USERS.CoUsuEli, TBL_USERS.CoUsuMod, TBL_USERS.CoUsuCre, TBL_USERS.FeCre, TBL_USERS.FeEli, TBL_USERS.FeMod, TBL_USERS.FlSitReg FROM  TBL_USERS WHERE TBL_USERS.FlSitReg ='A'; END LST;/*-------------------------------------------------------------------------------------*/ PROCEDURE ID(IDUSERSROP_ IN OUT TBL_USERS.IDUSERSROP%TYPE,RC OUT REFCURSOR) IS BEGIN OPEN RC FOR  SELECT TBL_USERS.IDUSERSROP,TBL_USERS.CUENTA,TBL_USERS.COD_OP,TBL_USERS.X_USER_OLD_COUSUMOD,TBL_USERS.FEC_VEN_CTA,TBL_USERS.USERNAME,TBL_USERS.IDUSERSDGU,TBL_USERS.CLAVE,TBL_USERS.COD_ENTE,TBL_USERS.FEC_VEN_PSW,TBL_USERS.AMBITO,TBL_USERS.COPERFIL,TBL_USERS.COD_AREA,TBL_USERS.CoEstReg, TBL_USERS.CoUsuEli, TBL_USERS.CoUsuMod, TBL_USERS.CoUsuCre, TBL_USERS.FeCre, TBL_USERS.FeEli, TBL_USERS.FeMod, TBL_USERS.FlSitReg FROM  TBL_USERS WHERE TBL_USERS.IDUSERSROP= IDUSERSROP_  ; END ID;  END PKG__USERS; CREATE SEQUENCE SEQ__USERS  START WITH 1   MAXVALUE 999999999999999999999999999  MINVALUE 1;