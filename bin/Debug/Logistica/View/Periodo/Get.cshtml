@model BePeriodo
@{ Layout = null;}
<form class='form form-horizontal form-bordered' id ='frmPeriodo' >
<div class='form-body'>
@Html.hidden(x => x.CoPeriodo)
<div class='form-group row'>
<label class='col-md-3 label-control'  for='CoCondominio' >Condominio</label><div class="col-md-9">
@Html.number(x => x.CoCondominio, new { @class = "form-control" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='CoEdificio' >Edificio</label><div class="col-md-9">
@Html.number(x => x.CoEdificio, new { @class = "form-control" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='FePeriodo' >Periodo</label><div class="col-md-9">
@Html.text(x => x.FePeriodo, new { @class = "form-control", @maxlength = "8" }, null, false, true)
</div>
</div>
</div>
@Html.hidden(x => x.CoEstadoPagina)
</form>
<script type="text/javascript">
$(function () {
$('#frmPeriodo').validate(DefaultOptionValidate);
$('#WinComun button[id=btnGraba]').unbind('click').on('click', GrabaPeriodo);
 });

GrabaPeriodo = function () {
if ($('#frmPeriodo').valid()) {
var data = FormToJson(document.getElementById('frmPeriodo'));
$.ajax({
url: '@Url.Action("Graba","api/PeriodoApi", new { area= "Condominio" })',
dataType: 'json',
type: 'POST',
cache: false,
data: data,
success: function (d) {
if (d.success == true) {
var item = d.data;
GetPeriodo.call({ 'codigo': item });
GetsPeriodo();
}
}
 });
}
}
</script>
