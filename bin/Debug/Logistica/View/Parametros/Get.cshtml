@model BeParametros
@{ Layout = null;}
<form class='form form-horizontal form-bordered' id ='frmParametros' >
<div class='form-body'>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='CoParametro' >Parametro</label><div class="col-md-9">
@Html.number(x => x.CoParametro, new { @class = "form-control" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='CoEmpresa' >Empresa</label><div class="col-md-9">
@Html.number(x => x.CoEmpresa, new { @class = "form-control" }, null, false, true)
</div>
</div>
@Html.hidden(x => x.NoCampo)
<div class='form-group row'>
<label class='col-md-3 label-control'  for='NuOrden' >Orden</label><div class="col-md-9">
@Html.number(x => x.NuOrden, new { @class = "form-control" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='NoValor' >Valor</label><div class="col-md-9">
@Html.text(x => x.NoValor, new { @class = "form-control", @maxlength = "50" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='NoNombre' >Nombre</label><div class="col-md-9">
@Html.text(x => x.NoNombre, new { @class = "form-control", @maxlength = "200" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='NoSigla' >Sigla</label><div class="col-md-9">
@Html.text(x => x.NoSigla, new { @class = "form-control", @maxlength = "15" }, null, false, true)
</div>
</div>
</div>
@Html.hidden(x => x.CoEstadoPagina)
</form>
<script type="text/javascript">
$(function () {
$('#frmParametros').validate(DefaultOptionValidate);
$('#WinComun button[id=btnGraba]').unbind('click').on('click', GrabaParametros);
 });

GrabaParametros = function () {
if ($('#frmParametros').valid()) {
var data = FormToJson(document.getElementById('frmParametros'));
$.ajax({
url: '@Url.Action("Graba","api/ParametrosApi", new { area= "Maestros" })',
dataType: 'json',
type: 'POST',
cache: false,
data: data,
success: function (d) {
if (d.success == true) {
var item = d.data;
GetParametros.call({ 'codigo': item });
GetsParametros();
}
}
 });
}
}
</script>
