@model BeCochera
@{ Layout = null;}
<form class='form form-horizontal form-bordered' id ='frmCochera' >
<div class='form-body'>
@Html.hidden(x => x.CoCochera)
<div class='form-group row'>
<label class='col-md-3 label-control'  for='CoCondominio' >Condominio</label><div class="col-md-9">
@Html.number(x => x.CoCondominio, new { @class = "form-control" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='CoEdificio' >Edificio</label><div class="col-md-9">
@Html.number(x => x.CoEdificio, new { @class = "form-control" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='NuCochera' >Cochera</label><div class="col-md-9">
@Html.text(x => x.NuCochera, new { @class = "form-control", @maxlength = "10" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='NuArea' >Area</label><div class="col-md-9">
@Html.number(x => x.NuArea, new { @class = "form-control" }, null, false, true)
</div>
</div>
<div class='form-group row'>
<label class='col-md-3 label-control'  for='NuPiso' >Piso</label><div class="col-md-9">
@Html.number(x => x.NuPiso, new { @class = "form-control" }, null, false, true)
</div>
</div>
</div>
@Html.hidden(x => x.CoEstadoPagina)
</form>
<script type="text/javascript">
$(function () {
$('#frmCochera').validate(DefaultOptionValidate);
$('#WinComun button[id=btnGraba]').unbind('click').on('click', GrabaCochera);
 });

GrabaCochera = function () {
if ($('#frmCochera').valid()) {
var data = FormToJson(document.getElementById('frmCochera'));
$.ajax({
url: '@Url.Action("Graba","api/CocheraApi", new { area= "Condominio" })',
dataType: 'json',
type: 'POST',
cache: false,
data: data,
success: function (d) {
if (d.success == true) {
var item = d.data;
GetCochera.call({ 'codigo': item });
GetsCochera();
}
}
 });
}
}
</script>
